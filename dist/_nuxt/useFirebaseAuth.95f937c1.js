import{Q as c,X as d,aq as l,ar as g,Y as f,as as h}from"./entry.cdf4f9ba.js";function m(){const t=c("notifications",()=>[]);function r(s){const n={id:new Date().getTime().toString(),...s};return t.value.findIndex(o=>o.id===n.id)===-1&&t.value.push(n),n}function i(s){t.value=t.value.filter(n=>n.id!==s)}return{add:r,remove:i}}const w=()=>{const{$auth:t}=d(),r=async(e,o)=>{try{const u=(await l(t,e,o)).user;console.log(u)}catch(a){console.log(a)}},i=async()=>{m();try{await g(t),await f("/login")}catch(e){console.log(e)}},s=()=>new Promise((e,o)=>{const a=h(t,u=>{a(),e(u)},o)}),n=t.currentUser;return{login:r,signout:i,curretnUserPromise:s,currentUser:n}};export{m as a,w as u};
